<?xml version="1.0" encoding="utf-8"?>
<!-- 
  tests for transliteration
  
  Open Siddur Project
  Copyright 2011 Efraim Feinstein
  Licensed under the GNU Lesser General Public License, version 3 or later
 -->
<x:description 
  xmlns:x="http://www.jenitennison.com/xslt/xspec"
  xmlns:tei="http://www.tei-c.org/ns/1.0"
  xmlns:j="http://jewishliturgy.org/ns/jlptei/1.0"
  xmlns:jx="http://jewishliturgy.org/ns/jlp-processor"
  xmlns:xxml="http://jewishliturgy.org/ns/xml-alias"
  stylesheet="../translit-main.xsl2"
  >
  <x:pending>
    <x:scenario label="force xmlns declarations">
      <x:context><j:test/><jx:test/><tei:test/></x:context>
      <x:expect label="nothing" test="()"/>
    </x:scenario>
  </x:pending>
  <x:param name="transliteration-tables">
    /group/everyone/transliteration/Academy_of_the_Hebrew_Language-2007.tr.xml
    /group/everyone/transliteration/ALA-Library_of_Congress-1997.tr.xml
    /group/everyone/transliteration/International_Phonetic_Alphabet-2005.tr.xml
    /group/everyone/transliteration/James_Strong-1890.tr.xml
    /group/everyone/transliteration/Michigan-Claremont-1984.tr.xml
    /group/everyone/transliteration/Modern_Ashkenazi_Dialect-2010.tr.xml
    /group/everyone/transliteration/Modern_Israeli_Hebrew-2010.tr.xml
    /group/everyone/transliteration/Society_of_Biblical_Literature-1999.tr.xml
  </x:param>
  <x:scenario label="no transliteration table specified">
    <x:context href="no-translit-context.xml"/>
    <x:expect label="acts as an identity transform" href="no-translit-context.xml"/>
  </x:scenario>
  <x:scenario label="with specified transliteration table and default alignment...">
    <x:scenario label="j:segGen">
      <x:context href="translit-segGen-context.xml"/>
      <x:expect label="j:segGen is replaced by a tei:seg transliterated text" href="translit-segGen-expect.xml"/>
    </x:scenario>
    <x:scenario label="tei:seg">
      <x:context href="translit-seg-context.xml"/>
      <x:expect label="tei:seg is replaced by j:parallelGrp including j:parallel[@type='transliteration']" href="translit-seg-expect.xml"/>
    </x:scenario>
    <x:scenario label="pre-existing j:parallelGrp">
      <x:context href="translit-parallelGrp-context.xml"/>
      <x:expect label="j:parallel[@type='transliteration'] is added to the existing j:parallelGrp" href="translit-parallelGrp-expect.xml"/>
    </x:scenario>
  </x:scenario>
  <x:scenario label="with specified transliteration table and alignment at paragraphs...">
    <x:scenario label="tei:p and tei:seg">
      <x:context href="translit-p-context.xml"/>
      <x:expect label="tei:p is replaced by j:parallelGrp including j:parallel[@type='transliteration']" href="translit-p-expect.xml"/>
    </x:scenario>
    <x:scenario label="tei:p and pre-existing j:parallelGrp">
      <x:context href="translit-p-parallelGrp-context.xml"/>
      <x:expect label="j:parallel[@type='transliteration'] is added to the existing j:parallelGrp" href="translit-p-parallelGrp-expect.xml"/>
    </x:scenario>
  </x:scenario>
</x:description>
